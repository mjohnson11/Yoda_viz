<!DOCTYPE html>
<html lang="en">
<head>
  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="https://fonts.googleapis.com/css?family=Crimson+Text&display=swap" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="/yoda_browser/yoda.css">

  <!-- JS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/apache-arrow@3"></script>
  <script src="https://cdn.jsdelivr.net/npm/arquero@latest"></script>
  <script src="/yoda_browser/yoda.js"></script>
  <script src="https://unpkg.com/ngl@0.10.4/dist/ngl.js"></script>

</head>
<body onload="read_files('/yoda_browser/data/20210430_fdl_9114.csv')">
  <div id="yoda_everything">
    <div class='antigen_button antigen_active' id='antigen_H1' onclick="kd_for('H1')">H1</div>
    <div class='antigen_button' id='antigen_H3' onclick="kd_for('H3')">H3</div>
    <div class='antigen_button' id='antigen_FluB' onclick="kd_for('FluB')">FluB</div>
    <p id='yoda_title'>YODA</p>
    <p id='yoda_about' onclick="toggle_about()">ABOUT</p>
    <p id='loading_message'>DATA LOADING...</p>
    <div id="yoda_left_bar"></div>
    <div id="yoda_ngl_viewer"></div>
    <canvas id="yoda_canvas" width="800" height="580"></canvas>
    <svg id="yoda_svg" width="900" height="650"></svg>
    <div id="yoda_about_div">
      <div id="about_x_out" onclick="toggle_about()">X</div>
      <h2>Yeast antibody display project</h2>
      <p>
        Using Tite-Seq, we measured the KD (equilibrium binding dissociation constant) of a combinatorial library based on an anti-influenza broadly neutralizing antibody, CR-9114, to three distinct influenza antigens. This library contains all possible combinations of 16 mutations present in the somatic CR-9114 sequence. The KD for each antigen were measured in biological triplicate. Here the average KD are displayed in a force-directed graph, where each variant (node) is connected to its 16 single-mutation neighbors, with edge weight inversely proportional to change in binding affinity to H1 (edges not shown for clarity) such that variants with similar genotypes and KD will tend to cluster. Click here for a video demo of this data browser.
      </p>
      <video width="640" height="480" controls>
        <source src="/yoda_browser/video/browser_demo.mov" type="video/mp4">
      Your browser does not support the video tag.
      </video>
    </div>
  </div>
</body>
</html>